<!doctype html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Präpositionalverben - Interactive Learning</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap");

            body {
                font-family: "Plus Jakarta Sans", sans-serif;
                scroll-behavior: smooth;
            }

            .tab-content {
                display: none;
            }
            .tab-content.active {
                display: block;
            }

            .glass-card {
                background: rgba(255, 255, 255, 0.9);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }

            .dialog-bubble {
                transition: transform 0.2s ease;
            }
            .dialog-bubble:hover {
                transform: translateX(5px);
            }

            #results-modal {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(15, 23, 42, 0.9);
                backdrop-filter: blur(8px);
                z-index: 100;
                align-items: center;
                justify-content: center;
            }

            input:disabled {
                background: transparent;
                border-bottom: 2px solid transparent !important;
                color: #4f46e5;
                font-weight: 800;
            }
        </style>
    </head>
    <body class="bg-slate-50 text-slate-900 overflow-x-hidden">
        <div class="max-w-5xl mx-auto p-4 md:p-8">
            <!-- Header -->
            <header
                class="bg-indigo-700 text-white p-10 rounded-[40px] shadow-2xl mb-8 relative overflow-hidden"
            >
                <div class="relative z-10">
                    <h1 class="text-4xl font-black mb-3">
                        Präpositionalverben
                    </h1>
                </div>
                <div
                    class="absolute top-[-20%] right-[-10%] w-80 h-80 bg-white/10 rounded-full blur-3xl"
                ></div>
            </header>

            <!-- Navigation -->
            <nav
                class="flex bg-white p-1.5 rounded-3xl shadow-md mb-8 border border-slate-200 sticky top-4 z-40"
            >
                <button
                    onclick="switchTab('explanation')"
                    id="btn-explanation"
                    class="tab-btn flex-1 py-4 rounded-2xl text-sm font-bold transition-all flex items-center justify-center gap-2 bg-indigo-600 text-white shadow-lg"
                >
                    <i class="fas fa-book-open"></i> Teoría y Diálogos
                </button>
                <button
                    onclick="switchTab('list')"
                    id="btn-list"
                    class="tab-btn flex-1 py-4 rounded-2xl text-sm font-bold transition-all flex items-center justify-center gap-2 text-slate-500 hover:bg-slate-50"
                >
                    <i class="fas fa-list"></i> Diccionario
                </button>
                <button
                    onclick="switchTab('exercises')"
                    id="btn-exercises"
                    class="tab-btn flex-1 py-4 rounded-2xl text-sm font-bold transition-all flex items-center justify-center gap-2 text-slate-500 hover:bg-slate-50"
                >
                    <i class="fas fa-tasks"></i> Práctica
                </button>
            </nav>

            <!-- CONTENIDO: EXPLICACIÓN -->
            <div
                id="explanation"
                class="tab-content active space-y-10 animate-in fade-in duration-500"
            >
                <section
                    class="bg-white p-8 md:p-12 rounded-[40px] border border-slate-200 shadow-sm"
                >
                    <p class="text-slate-600 mb-8 leading-relaxed text-lg">
                        En alemán, como en inglés o español, ciertos verbos
                        siempre van acompañados de preposiciones, formando lo
                        que se conoce como
                        <span class="font-bold text-indigo-600 italic"
                            >Präpositionalverben</span
                        >
                        (verbos preposicionales).
                    </p>

                    <!-- Diálogo 1 -->
                    <div
                        class="space-y-4 mb-10 bg-slate-50 p-6 rounded-3xl border border-slate-100"
                    >
                        <div
                            class="flex gap-4 dialog-bubble bg-white p-4 rounded-xl shadow-sm border border-slate-100"
                        >
                            <div
                                class="w-12 h-12 bg-indigo-100 rounded-full flex-shrink-0 flex items-center justify-center text-indigo-600 font-bold"
                            >
                                S
                            </div>
                            <div>
                                <p
                                    class="font-bold text-indigo-900 text-[10px] uppercase mb-1"
                                >
                                    Schneewittchen
                                </p>
                                <p class="text-slate-800 italic text-sm">
                                    "Was ist los, Rapunzel?"
                                </p>
                                <p class="text-slate-500 text-[11px]">
                                    "¿Qué pasa, Rapunzel?"
                                </p>
                            </div>
                        </div>
                        <div
                            class="flex gap-4 dialog-bubble bg-white p-4 rounded-xl shadow-sm border border-slate-100"
                        >
                            <div
                                class="w-12 h-12 bg-indigo-100 rounded-full flex-shrink-0 flex items-center justify-center text-indigo-600 font-bold"
                            >
                                R
                            </div>
                            <div>
                                <p
                                    class="font-bold text-indigo-900 text-[10px] uppercase mb-1"
                                >
                                    Rapunzel
                                </p>
                                <p class="text-slate-800 italic text-sm">
                                    "Ich <strong>warte auf</strong> Dornröschen
                                    und Aschenputtel. Wir wollen ins Kino gehen,
                                    aber sie kommen wieder zu spät!"
                                </p>
                                <p class="text-slate-500 text-[11px]">
                                    "Estoy esperando a Aurora y a Cenicienta.
                                    Queremos ir al cine, ¡pero ellas vuelven a
                                    llegar muy tarde!"
                                </p>
                            </div>
                        </div>
                        <div
                            class="flex gap-4 dialog-bubble bg-white p-4 rounded-xl shadow-sm border border-slate-100"
                        >
                            <div
                                class="w-12 h-12 bg-indigo-100 rounded-full flex-shrink-0 flex items-center justify-center text-indigo-600 font-bold"
                            >
                                S
                            </div>
                            <div>
                                <p
                                    class="font-bold text-indigo-900 text-[10px] uppercase mb-1"
                                >
                                    Schneewittchen
                                </p>
                                <p class="text-slate-800 italic text-sm">
                                    "Sie <strong>fangen</strong> gerade
                                    <strong>mit</strong> einem sehr wichtigen
                                    Artikel <strong>an</strong>. Der
                                    <strong>handelt von</strong> einer
                                    berufstätigen Märchenfrau!"
                                </p>
                                <p class="text-slate-500 text-[11px]">
                                    "Ellas están empezando con un artículo muy
                                    importante. Se trata de una mujer de cuento
                                    de hadas trabajadora."
                                </p>
                            </div>
                        </div>
                        <div
                            class="flex gap-4 dialog-bubble bg-white p-4 rounded-xl shadow-sm border border-slate-100"
                        >
                            <div
                                class="w-12 h-12 bg-indigo-100 rounded-full flex-shrink-0 flex items-center justify-center text-indigo-600 font-bold"
                            >
                                R
                            </div>
                            <div>
                                <p
                                    class="font-bold text-indigo-900 text-[10px] uppercase mb-1"
                                >
                                    Rapunzel
                                </p>
                                <p class="text-slate-800 italic text-sm">
                                    "O je, jetzt geht das schon wieder los! Sie
                                    <strong>interessieren sich</strong> nur
                                    <strong>für</strong> ihre Jobs!"
                                </p>
                                <p class="text-slate-500 text-[11px]">
                                    "¡Ay no! Allá vamos otra vez. Ellas solo se
                                    interesan por su trabajo."
                                </p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="my-10 border-4 border-dashed border-slate-200 rounded-[40px] h-80 flex flex-col items-center justify-center bg-slate-50"
                    >
                        <i
                            class="fas fa-camera text-slate-300 mb-4 text-6xl"
                        ></i>
                        <p class="text-slate-400 font-bold text-center px-10">
                            [Image 1: Rapunzel con reloj de péndulo]
                        </p>
                    </div>

                    <div
                        class="space-y-6 text-slate-600 text-lg leading-relaxed"
                    >
                        <p>
                            Igual que los verbos preposicionales en español
                            (encargarse de, escuchar a, leer sobre, esperar a,
                            etc.) son desafiantes para aquellos hablantes no
                            nativos del español, los verbos preposicionales en
                            alemán mantienen cierto misterio para los no
                            germanoparlantes nativos, principalmente por las
                            siguientes razones:
                        </p>
                        <ul class="list-disc ml-8 space-y-4">
                            <li>
                                <strong
                                    >El alemán y el español suelen utilizar
                                    diferentes preposiciones para el mismo verbo
                                    preposicional:</strong
                                >
                                <div
                                    class="bg-indigo-50 p-4 rounded-xl mt-2 font-mono text-indigo-800 text-sm"
                                >
                                    Ejemplo:<br />
                                    sich interessieren für = estar interesado/a
                                    en<br />
                                    warten auf = esperar a
                                </div>
                            </li>
                            <li>
                                <strong
                                    >Las Wechselpräpositionen vuelven a hacer de
                                    las suyas:</strong
                                >
                                En los verbos preposicionales, mientras que las
                                preposiciones acusativas siempre son acusativas
                                y las dativas siempre son dativas, estas pueden
                                asumir cualquiera de los dos casos. Más aun, no
                                siguen la regla de Akkusativ para movimiento y
                                Dativ para localización. En general, las
                                Wechselpräpositionen tienden a asumir el
                                Akkusativ (con excepción de <em>an</em>).
                            </li>
                        </ul>

                        <div class="grid md:grid-cols-3 gap-6 pt-6">
                            <div
                                class="bg-rose-50 p-6 rounded-2xl border border-rose-100 text-center shadow-sm"
                            >
                                <h3
                                    class="font-black text-rose-600 uppercase tracking-widest text-[10px] mb-4"
                                >
                                    Acusativas
                                </h3>
                                <div class="text-sm font-mono text-rose-900">
                                    durch, für, gegen, ohne, um
                                </div>
                            </div>
                            <div
                                class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100 text-center shadow-sm"
                            >
                                <h3
                                    class="font-black text-indigo-600 uppercase tracking-widest text-[10px] mb-4"
                                >
                                    Dativas
                                </h3>
                                <div
                                    class="text-sm font-mono text-indigo-900 leading-relaxed"
                                >
                                    aus, außer, bei, mit, nach, seit, von, zu,
                                    gegenüber
                                </div>
                            </div>
                            <div
                                class="bg-amber-50 p-6 rounded-2xl border border-amber-100 text-center shadow-sm"
                            >
                                <h3
                                    class="font-black text-amber-600 uppercase tracking-widest text-[10px] mb-4"
                                >
                                    Wechsel
                                </h3>
                                <div
                                    class="text-sm font-mono text-amber-900 leading-relaxed"
                                >
                                    an, auf, hinter, in, neben, über, unter,
                                    vor, zwischen
                                </div>
                            </div>
                        </div>

                        <p
                            class="pt-4 font-bold border-l-4 border-amber-400 pl-4 bg-amber-50 rounded-r-xl py-2"
                        >
                            Lamentablemente, para evitar estas posibles
                            confusiones lo mejor es memorizar estos verbos como
                            una oración.
                        </p>
                    </div>
                </section>

                <!-- da- Section -->
                <section
                    class="bg-white p-8 md:p-12 rounded-[40px] border border-slate-200 shadow-sm"
                >
                    <h2 class="text-3xl font-black text-indigo-900 mb-6">
                        Palabras compuestas con
                        <span class="text-indigo-600 italic">da-</span>
                    </h2>
                    <p class="text-slate-600 mb-8 text-lg leading-relaxed">
                        Cuando alguien se refiere a objetos animados (seres
                        vivos) con un verbo preposicional, se puede usar tanto
                        el nombre o el pronombre personal.
                    </p>

                    <div
                        class="space-y-4 mb-8 bg-slate-50 p-6 rounded-3xl border border-slate-100"
                    >
                        <div
                            class="flex gap-4 dialog-bubble bg-white p-4 rounded-xl border border-slate-100"
                        >
                            <div
                                class="w-10 h-10 bg-indigo-100 rounded-full flex-shrink-0 flex items-center justify-center font-bold"
                            >
                                S
                            </div>
                            <div>
                                <p class="text-sm italic">
                                    "Du
                                    <strong>ärgerst dich über</strong>
                                    Dornröschen und Aschenputtel? Warum?"
                                </p>
                                <p class="text-[11px] text-slate-500">
                                    ¿Estás enojada con Aurora y con cenicienta?
                                    ¿Por qué?
                                </p>
                            </div>
                        </div>
                        <div
                            class="flex gap-4 dialog-bubble bg-white p-4 rounded-xl border border-slate-100"
                        >
                            <div
                                class="w-10 h-10 bg-indigo-100 rounded-full flex-shrink-0 flex items-center justify-center font-bold"
                            >
                                R
                            </div>
                            <div>
                                <p class="text-sm italic">
                                    "Ich <strong>ärgere mich sobre sie</strong>,
                                    weil sie nicht sensibel sind!"
                                </p>
                                <p class="text-[11px] text-slate-500">
                                    "Estoy enojada con ellas, porque (ellas) no
                                    son sensibles."
                                </p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="space-y-6 text-slate-600 text-lg leading-relaxed mb-8"
                    >
                        <p>
                            Sin embargo, es diferente cuando el objeto que va
                            luego de la preposición es un
                            <strong>objeto inanimado</strong>. Aquí se puede
                            utilizar tanto el sustantivo o nombre propio, o una
                            palabra compuesta formada por el adverbio
                            demostrativo <span class="font-bold">da-</span> y la
                            preposición misma. Esto se conoce como
                            <strong>adverbio preposicional</strong> (si la
                            preposición comienza con una vocal, se añade una
                            <strong>-r</strong> a da; <strong>dar-</strong>).
                        </p>
                    </div>

                    <!-- Diálogo Compuestos da- -->
                    <div
                        class="space-y-4 bg-slate-900 text-white p-8 rounded-[40px] shadow-xl"
                    >
                        <div class="flex gap-4">
                            <div
                                class="w-10 h-10 bg-white/20 rounded-full flex-shrink-0 flex items-center justify-center font-bold"
                            >
                                S
                            </div>
                            <div>
                                <p class="text-sm italic">
                                    "Wieso? Sie <strong>denken an</strong> die
                                    Gleichberechtigung der Geschlechter am
                                    Arbeitsplatz! Das scheint mir sehr sensibel
                                    zu sein!"
                                </p>
                                <p class="text-[11px] text-slate-400">
                                    ¿Por qué? Ellas están pensando en la
                                    igualdad de género en el ambiente laboral.
                                    Eso me parece (ser) muy sensible.
                                </p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div
                                class="w-10 h-10 bg-white/20 rounded-full flex-shrink-0 flex items-center justify-center font-bold"
                            >
                                R
                            </div>
                            <div>
                                <p class="text-sm italic">
                                    "Ja, aber sie <strong>denken</strong> nur
                                    <strong>daran</strong> und nicht an mich!"
                                </p>
                                <p class="text-[11px] text-slate-400">
                                    "Sí, pero ellas solo piensan en eso (en
                                    ello) y no en mí."
                                </p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div
                                class="w-10 h-10 bg-white/20 rounded-full flex-shrink-0 flex items-center justify-center font-bold"
                            >
                                S
                            </div>
                            <div>
                                <p class="text-sm italic">
                                    "Du solltest
                                    <strong>dich darüber freuen</strong>, dass
                                    deine Freundinnen deine Rechte schützen
                                    wollen!"
                                </p>
                                <p class="text-[11px] text-slate-400">
                                    Deberías de alegrarte de eso (de que tus
                                    amigas quieran proteger tus derechos).
                                </p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div
                                class="w-10 h-10 bg-white/20 rounded-full flex-shrink-0 flex items-center justify-center font-bold"
                            >
                                R
                            </div>
                            <div>
                                <p class="text-sm italic">
                                    "Meine Rechte? Ich
                                    <strong>kümmere mich</strong> gar nicht
                                    <strong>darum</strong> - ich bin bloß eine
                                    Märchenfigur! Außerdem habe ich keinen Job."
                                </p>
                                <p class="text-[11px] text-slate-400">
                                    "¿Mis derechos? No me preocupo por eso –
                                    ¡Solo soy un personaje de cuento de hadas!
                                    Además, no tengo trabajo."
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- wo- Section -->
                <section
                    class="bg-white p-8 md:p-12 rounded-[40px] border border-slate-200 shadow-sm"
                >
                    <h2 class="text-3xl font-black text-indigo-900 mb-6">
                        Palabras compuestas con
                        <span class="text-indigo-600 italic">wo-</span>
                    </h2>
                    <p class="text-slate-600 mb-8 text-lg leading-relaxed">
                        Cuando se pregunta acerca de cualquier objeto inanimado
                        referente a un verbo preposicional, se utiliza el
                        pronombre interrogativo
                        <span class="font-bold">wo</span> y la preposición
                        misma, formando el adverbio preposicional interrogativo.
                    </p>

                    <div
                        class="space-y-6 mb-8 bg-indigo-50 p-8 rounded-3xl border border-indigo-100"
                    >
                        <div class="flex gap-4">
                            <div
                                class="w-12 h-12 bg-indigo-600 text-white rounded-full flex-shrink-0 flex items-center justify-center font-bold shadow-md"
                            >
                                R
                            </div>
                            <div>
                                <p
                                    class="text-sm font-bold text-indigo-900 mb-1 italic"
                                >
                                    "<strong>Wofür</strong> hältst du mich,
                                    Schneewittchen?! Ich puede nicht arbeiten.
                                    Mein Mann will der einzige Geldverdiener
                                    sein."
                                </p>
                                <p class="text-[11px] text-indigo-800">
                                    ¿Por quién me tomas Blanca Nieves? No puedo
                                    trabajar. Mi esposo quiere ser el único que
                                    traiga el dinero.
                                </p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div
                                class="w-12 h-12 bg-indigo-600 text-white rounded-full flex-shrink-0 flex items-center justify-center font-bold shadow-md"
                            >
                                S
                            </div>
                            <div>
                                <p
                                    class="text-sm font-bold text-indigo-900 mb-1 italic"
                                >
                                    "<strong>Wozu</strong> gehörst du denn?! Zum
                                    mittelalterlichen Club für Frauen?! Dieser
                                    Standpunkt ist so passé."
                                </p>
                                <p class="text-[11px] text-indigo-800">
                                    ¿Pues a qué perteneces? ¿Al club medieval de
                                    mujeres? Este punto de vista es so passé.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div
                        class="my-10 border-4 border-dashed border-slate-900 rounded-[40px] h-80 flex flex-col items-center justify-center bg-slate-900 shadow-2xl"
                    >
                        <i
                            class="fas fa-camera text-slate-700 mb-4 text-6xl"
                        ></i>
                        <p
                            class="text-slate-500 font-black italic text-center px-10"
                        ></p>
                    </div>
                </section>
            </div>

            <!-- CONTENIDO: DICCIONARIO -->
            <div
                id="list"
                class="tab-content space-y-8 animate-in fade-in duration-500"
            >
                <div
                    class="bg-white p-8 md:p-12 rounded-[40px] border border-slate-200 shadow-sm"
                >
                    <div
                        class="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10"
                    >
                        <h2 class="text-3xl font-black text-indigo-900">
                            Diccionario Completo
                        </h2>
                        <div class="relative">
                            <i
                                class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"
                            ></i>
                            <input
                                type="text"
                                id="verb-search"
                                placeholder="Buscar verbo..."
                                class="pl-12 pr-6 py-4 border-2 border-slate-100 rounded-3xl focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-600 outline-none w-full md:w-96 shadow-sm transition-all"
                            />
                        </div>
                    </div>
                    <div
                        class="overflow-x-auto rounded-3xl border border-slate-100 shadow-inner"
                    >
                        <table class="w-full text-left">
                            <thead>
                                <tr
                                    class="bg-slate-50 text-slate-400 text-[10px] font-black uppercase tracking-widest"
                                >
                                    <th class="p-6">Präpositionalverb</th>
                                    <th class="p-6">Fall</th>
                                    <th class="p-6">Übersetzung</th>
                                </tr>
                            </thead>
                            <tbody
                                id="verb-table-body"
                                class="divide-y divide-slate-50"
                            ></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- CONTENIDO: EJERCICIOS -->
            <div
                id="exercises"
                class="tab-content space-y-12 animate-in slide-in-from-bottom-4 duration-500 pb-32"
            >
                <section
                    class="bg-white p-8 md:p-12 rounded-[40px] border border-slate-200 shadow-sm"
                >
                    <h2
                        class="text-3xl font-black text-indigo-900 mb-4 uppercase tracking-tighter"
                    >
                        Übung 1 – Rapunzels innerste Gedanken
                    </h2>
                    <p
                        class="text-slate-500 text-lg italic mb-10 leading-relaxed"
                    >
                        Desde su conversación con Blanca Nieves, Rapunzel ha
                        estado reflexionando acerca de su estilo de vida tan
                        tradicional. Elige la palabra correcta del banco:
                    </p>

                    <div
                        class="bg-slate-100 p-8 rounded-[32px] flex flex-wrap gap-3 mb-12 border border-slate-200 shadow-inner"
                    >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >anpassen</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >hält</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >teilnehmen</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >verstehen</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >sorge</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >konzentrieren</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >bittet</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >aufhören</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >frage</span
                        >
                        <span
                            class="bg-white px-4 py-2 rounded-2xl text-[10px] font-black text-indigo-700 border-2 border-indigo-50 uppercase"
                            >arbeiten</span
                        >
                    </div>

                    <div id="ex1-container" class="space-y-2"></div>
                </section>

                <section
                    class="bg-white p-8 md:p-12 rounded-[40px] border border-slate-200 shadow-sm"
                >
                    <h2
                        class="text-3xl font-black text-indigo-900 mb-4 uppercase tracking-tighter"
                    >
                        Übung 2 – Algunos buenos consejos
                    </h2>
                    <p
                        class="text-slate-500 text-lg mb-10 italic leading-relaxed"
                    >
                        Rellena el espacio en blanco con el pronombre
                        preposicional <strong>da-</strong> o
                        <strong>wo-</strong> correcto. ¡Ten mucho cuidado con
                        las preposiciones que empiezan con una vocal!
                    </p>
                    <div id="ex2-container" class="space-y-4"></div>
                </section>

                <div class="flex justify-center">
                    <button
                        onclick="evaluateActivity()"
                        id="eval-btn"
                        class="bg-indigo-600 text-white px-20 py-6 rounded-[35px] font-black text-2xl shadow-2xl hover:bg-indigo-700 hover:scale-105 transition-all flex items-center gap-4"
                    >
                        <i class="fas fa-check-circle"></i> EVALUAR ACTIVIDAD
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal Resultados -->
        <div id="results-modal">
            <div
                class="bg-white w-full max-w-xl rounded-[60px] shadow-2xl overflow-hidden mx-4"
            >
                <div class="bg-indigo-600 p-12 text-center text-white relative">
                    <div
                        class="w-32 h-32 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6 border-[10px] border-white/20"
                    >
                        <span id="final-score-text" class="text-5xl font-black"
                            >0%</span
                        >
                    </div>
                    <h3
                        class="text-3xl font-black tracking-tighter uppercase mb-2"
                    >
                        Evaluación Final
                    </h3>
                </div>
                <div class="p-10 space-y-8">
                    <div class="grid grid-cols-2 gap-6">
                        <div
                            class="bg-slate-100 p-6 rounded-[32px] border border-slate-200 text-center"
                        >
                            <p
                                class="text-[10px] text-slate-400 font-black uppercase mb-2 tracking-widest"
                            >
                                Código Verificación
                            </p>
                            <p
                                id="verification-code-display"
                                class="text-2xl font-mono font-black text-indigo-600 tracking-tighter"
                            >
                                ---
                            </p>
                        </div>
                        <div
                            class="bg-slate-100 p-6 rounded-[32px] border border-slate-200 flex flex-col items-center justify-center"
                        >
                            <p
                                class="text-[10px] text-slate-400 font-black uppercase mb-2 tracking-widest"
                            >
                                Status
                            </p>
                            <p id="status-display" class="text-lg font-black">
                                ---
                            </p>
                        </div>
                    </div>
                    <div
                        class="bg-amber-50 p-6 rounded-[32px] border border-amber-200 flex items-start gap-4"
                    >
                        <i class="fas fa-shield-alt text-amber-600 mt-1"></i>
                        <p
                            class="text-xs text-amber-900 font-bold italic leading-relaxed"
                        >
                            Toma captura de esta pantalla. El código certifica
                            tu honestidad académica.
                        </p>
                    </div>
                    <button
                        onclick="downloadResults()"
                        class="w-full bg-slate-900 text-white py-6 rounded-[28px] font-black text-xl flex items-center justify-center gap-4 hover:bg-black transition-all"
                    >
                        <i class="fas fa-download"></i> DESCARGAR .TXT
                    </button>
                </div>
            </div>
        </div>

        <script>
            // --- DATA ---
            const verbos = [
                {
                    v: "achten auf",
                    c: "Akk.",
                    t: "Tener cuidado con, prestar atención a",
                },
                { v: "anfangen mit", c: "Dat.", t: "Empezar con" },
                { v: "Angst haben vor", c: "Dat.", t: "Tener miedo de" },
                { v: "ankommen auf", c: "Akk.", t: "Depender de" },
                {
                    v: "sich anpassen an",
                    c: "Akk.",
                    t: "Adaptarse a, acomodarse a",
                },
                { v: "antworten auf", c: "Akk.", t: "Responder a" },
                { v: "arbeiten an", c: "Dat.", t: "Trabajar en" },
                {
                    v: "sich ärgern über",
                    c: "Akk.",
                    t: "Enfadarse por, enfadarse con",
                },
                { v: "aufhören mit", c: "Dat.", t: "Parar de (hacer algo)" },
                {
                    v: "sich bemühen um",
                    c: "Akk.",
                    t: "Esmerarse en, esforzarse por, afanarse con",
                },
                {
                    v: "sich beschäftigen mit",
                    c: "Dat.",
                    t: "Dedicarse a, ocuparse con",
                },
                {
                    v: "sich bewerben um",
                    c: "Akk.",
                    t: "Aplicar para, postularse para",
                },
                { v: "bitten um", c: "Akk.", t: "Pedir" },
                { v: "danken für", c: "Akk.", t: "Dar gracias por" },
                { v: "denken an", c: "Akk.", t: "Pensar en" },
                { v: "sich entscheiden für", c: "Akk.", t: "Decidirse por" },
                { v: "sich erinnern an", c: "Akk.", t: "Acordarse de" },
                { v: "erzählen von", c: "Dat.", t: "Contar acerca de" },
                { v: "fragen nach", c: "Dat.", t: "Preguntar por" },
                { v: "sich freuen auf", c: "Akk.", t: "Entusiasmarse por" },
                { v: "sich freuen über", c: "Akk.", t: "Estar feliz por" },
                { v: "gehören zu", c: "Dat.", t: "Pertenecer a" },
                { v: "sich gewöhnen an", c: "Akk.", t: "Acostumbrarse a" },
                { v: "glauben an", c: "Akk.", t: "Creer en" },
                { v: "halten für", c: "Akk.", t: "Estimar, considerar" },
                {
                    v: "halten von",
                    c: "Dat.",
                    t: "Pensar de, sentir acerca de",
                },
                { v: "sich handeln um", c: "Akk.", t: "Tratarse de" },
                { v: "hoffen auf", c: "Akk.", t: "Esperar (esperanza)" },
                {
                    v: "sich interessieren für",
                    c: "Akk.",
                    t: "Interesarse por",
                },
                {
                    v: "sich konzentrieren auf",
                    c: "Akk.",
                    t: "Concentrarse en",
                },
                {
                    v: "sich kümmern um",
                    c: "Akk.",
                    t: "Preocuparse por, hacerse cargo de",
                },
                {
                    v: "leiden an / unter",
                    c: "Dat.",
                    t: "Sufrir por o de / estar enfermo de",
                },
                { v: "rechnen mit", c: "Dat.", t: "Contar con" },
                { v: "retten vor", c: "Dat.", t: "Salvar de" },
                { v: "riechen nach", c: "Dat.", t: "Oler a" },
                {
                    v: "sorgen für",
                    c: "Akk.",
                    t: "Preocuparse por, proporcionar",
                },
                { v: "schmecken nach", c: "Dat.", t: "Saber a" },
                { v: "sprechen über", c: "Akk.", t: "Hablar de" },
                { v: "teilnehmen an", c: "Dat.", t: "Participar en" },
                { v: "telefonieren mit", c: "Dat.", t: "Telefonear con" },
                { v: "träumen von", c: "Dat.", t: "Soñar con" },
                { v: "sich trennen von", c: "Dat.", t: "Separarse de" },
                {
                    v: "übereinstimmen mit",
                    c: "Dat.",
                    t: "Estar de acuerdo con",
                },
                { v: "sich verlieben in", c: "Akk.", t: "Enamorarse de" },
                { v: "verstehen von", c: "Dat.", t: "Entender de" },
                { v: "verzichten auf", c: "Akk.", t: "Prescindir de" },
                { v: "sich vorbereiten auf", c: "Akk.", t: "Prepararse para" },
                { v: "warten auf", c: "Akk.", t: "Esperar a" },
                { v: "wissen von", c: "Dat.", t: "Saber de" },
                { v: "zweifeln an", c: "Dat.", t: "Dudar de" },
            ];

            const sentences1 = [
                {
                    t: "01 . Tagein, tagaus (día sí, día no) ___________ ich für meinen Mann.",
                    a: "sorge",
                },
                {
                    t: "02 . Wenn er um eine Tasse (f.) Kaffee ___________, muss ich sie holen.",
                    a: "bittet",
                },
                {
                    t: "03 . Falls ihm der Kaffee nicht warm genug ist, sagte er, ich müsste am Kaffeekochen ___________!",
                    a: "arbeiten",
                },
                {
                    t: "04 . Ich möchte auch am Arbeitsmarkt ___________, aber er ist natürlich dagegen.",
                    a: "teilnehmen",
                },
                {
                    t: "05 . Seiner Meinung nach sollen Frauen sich nur auf die Kinder und die Hausarbeit ___________.",
                    a: "konzentrieren",
                },
                {
                    t: "06 . Er puede sich an das moderne Leben nicht ___________.",
                    a: "anpassen",
                },
                {
                    t: "07 . Ich wünschte, er würde mit dem blöden Quatsch ___________!",
                    a: "aufhören",
                },
                {
                    t: "08 . Schneewittchen ___________ mich für eine Protestlerin gegen die Frauenbewegung, aber ich weiß nicht einmal, was das ist!",
                    a: "hält",
                },
                {
                    t: "09 . Vielleicht ___________ ich Dornröschen und Aschenputtel nach dieser sogenannten 'Frauenbewegung.'",
                    a: "frage",
                },
                {
                    t: "10 . Sie ___________ viel von solchen neumodischen Sachen!",
                    a: "verstehen",
                },
            ];

            const sentences2 = [
                {
                    t: "01 . Dornröschen: Hallo, Rapunzel! Schneewittchen, Aschenputtel und ich haben gerade ___________ gesprochen, dass du Rat suchst.",
                    a: "darüber",
                },
                {
                    t: "02 . Aschenputtel: Wir wollen dir helfen! ___________ leidest du eigentlich?",
                    a: "woran",
                },
                {
                    t: "03 . Rapunzel: Ich want einen richtigen Job suchen, pero ich zweifele ___________, que mi esposo lo permita.",
                    a: "daran",
                },
                {
                    t: "04 . Dornröschen: Hmm, das kommt ___________ an. Was für einen Job suchst du denn?",
                    a: "darauf",
                },
                {
                    t: "05 . Rapunzel: Natürlich möchte ich Friseurin werden! Ich freue mich so muy ___________!",
                    a: "darauf",
                },
                {
                    t: "06 . Dornröschen: OK. Sobald du una plaza como peluquera gefunden hast... Entonces pídele a la ama de llaves ___________, usar una peluca larga.",
                    a: "darum",
                },
                {
                    t: "07 . Rapunzel: ___________ denkst du denn, Dornröschen? Diese Idee klingt komisch.",
                    a: "woran",
                },
                {
                    t: "08 . Aschenputtel: Du gewöhnst dich gleich ___________, Rapunzel. Hör nur zu.",
                    a: "daran",
                },
                {
                    t: "09 . Dornröschen: Tu esposo te tomaría por la ama de llaves... ¿Te interesas ___________ o no?",
                    a: "darum",
                },
                {
                    t: "10 . Rapunzel: ___________ warten wir? Kaufen wir eine Perücke!",
                    a: "worauf",
                },
            ];

            // --- SISTEMA ANTITRAMPAS ---
            let integrity = {
                humanScore: 100,
                pastes: 0,
                focusChanges: 0,
                backspaces: 0,
                totalKeys: 0,
                startTime: Date.now(),
                rapidFills: 0,
                lastTime: 0,
            };

            window.addEventListener("visibilitychange", () => {
                if (document.hidden) integrity.focusChanges++;
            });
            window.addEventListener("paste", () => integrity.pastes++);
            window.addEventListener("keydown", (e) => {
                integrity.totalKeys++;
                if (e.key === "Backspace") integrity.backspaces++;
                const now = Date.now();
                if (integrity.lastTime && now - integrity.lastTime < 500)
                    integrity.rapidFills++;
                integrity.lastTime = now;
            });

            // --- FUNCIONES UI ---
            function switchTab(tabId) {
                document
                    .querySelectorAll(".tab-content")
                    .forEach((c) => c.classList.remove("active"));
                document.querySelectorAll(".tab-btn").forEach((b) => {
                    b.classList.remove(
                        "bg-indigo-600",
                        "text-white",
                        "shadow-lg",
                    );
                    b.classList.add("text-slate-500");
                });
                document.getElementById(tabId).classList.add("active");
                const btn = document.getElementById(`btn-${tabId}`);
                btn.classList.add("bg-indigo-600", "text-white", "shadow-lg");
                btn.classList.remove("text-slate-500");
            }

            function loadVerbs(filter = "") {
                const tbody = document.getElementById("verb-table-body");
                tbody.innerHTML = "";
                verbos
                    .filter(
                        (v) =>
                            v.v.toLowerCase().includes(filter.toLowerCase()) ||
                            v.t.toLowerCase().includes(filter.toLowerCase()),
                    )
                    .forEach((v) => {
                        tbody.innerHTML += `
                        <tr class="hover:bg-indigo-50/50 transition-colors group">
                            <td class="p-6 font-bold text-indigo-700">${v.v}</td>
                            <td class="p-6">
                                <span class="text-[10px] font-black px-3 py-1.5 rounded-full shadow-sm ${v.c === "Akk." ? "bg-rose-100 text-rose-600" : "bg-blue-100 text-blue-600"}">${v.c}</span>
                            </td>
                            <td class="p-6 text-slate-600 italic font-medium">${v.t}</td>
                        </tr>`;
                    });
            }

            function loadExercises() {
                const ex1 = document.getElementById("ex1-container");
                const ex2 = document.getElementById("ex2-container");

                sentences1.forEach((s, i) => {
                    const parts = s.t.split("___________");
                    ex1.innerHTML += `
                    <div class="flex gap-4 items-start p-4 rounded-3xl hover:bg-slate-50 transition-all group">
                        <p class="text-slate-700 text-sm flex-grow leading-relaxed">
                            ${parts[0]} <input type="text" class="ex1-input mx-1 w-32 border-b-2 border-slate-200 focus:border-indigo-600 outline-none bg-transparent text-center font-black text-indigo-600 transition-all"> ${parts[1]}
                        </p>
                    </div>`;
                });

                sentences2.forEach((s, i) => {
                    const parts = s.t.split("___________");
                    ex2.innerHTML += `
                    <div class="flex gap-4 items-start p-4 rounded-3xl hover:bg-slate-50 transition-all group">
                        <p class="text-slate-700 text-sm flex-grow leading-relaxed">
                            ${parts[0]} <input type="text" class="ex2-input mx-1 w-32 border-b-2 border-slate-200 focus:border-indigo-600 outline-none bg-transparent text-center font-black text-indigo-600 transition-all"> ${parts[1]}
                        </p>
                    </div>`;
                });
            }

            function evaluateActivity() {
                let correct = 0;
                const ex1Inputs = document.querySelectorAll(".ex1-input");
                const ex2Inputs = document.querySelectorAll(".ex2-input");

                ex1Inputs.forEach((inp, i) => {
                    if (
                        inp.value.trim().toLowerCase() ===
                        sentences1[i].a.toLowerCase()
                    )
                        correct++;
                });
                ex2Inputs.forEach((inp, i) => {
                    if (
                        inp.value.trim().toLowerCase() ===
                        sentences2[i].a.toLowerCase()
                    )
                        correct++;
                });

                const total = sentences1.length + sentences2.length;
                const score = Math.round((correct / total) * 100);

                if (integrity.pastes > 5) integrity.humanScore -= 25;
                if (integrity.focusChanges > 10) integrity.humanScore -= 15;
                if (integrity.rapidFills > 8) integrity.humanScore -= 30;
                const totalTimeSec = (Date.now() - integrity.startTime) / 1000;
                if (totalTimeSec < total * 3) integrity.humanScore -= 25;

                integrity.humanScore = Math.max(0, integrity.humanScore);
                const abc = integrity.humanScore.toString().padStart(3, "0");
                const d =
                    integrity.humanScore >= 70
                        ? "0"
                        : integrity.humanScore >= 40
                          ? "1"
                          : "2";
                const efgh = Date.now().toString().slice(-4);
                const vCode = `${abc}-${d}${efgh}`;

                document.getElementById("final-score-text").innerText =
                    `${score}%`;
                document.getElementById("verification-code-display").innerText =
                    vCode;
                document.getElementById("status-display").innerText =
                    score >= 70 ? "LOGRADO" : "REVISAR";
                document.getElementById("status-display").className =
                    `text-lg font-black ${score >= 70 ? "text-emerald-600" : "text-rose-600"}`;

                document.getElementById("results-modal").style.display = "flex";
                [...ex1Inputs, ...ex2Inputs].forEach(
                    (i) => (i.disabled = true),
                );
                document.getElementById("eval-btn").disabled = true;
                document.getElementById("eval-btn").innerText =
                    "ACTIVIDAD EVALUADA";
            }

            function downloadResults() {
                const scoreText =
                    document.getElementById("final-score-text").innerText;
                const vCode = document.getElementById(
                    "verification-code-display",
                ).innerText;
                const content = `RESULTADOS EVALUACIÓN GERMAN\nCalificación: ${scoreText}\nCódigo Verificación: ${vCode}\nIntegridad: ${integrity.humanScore}/100\nPastes: ${integrity.pastes}\nTab-switches: ${integrity.focusChanges}\nRapid-Fill: ${integrity.rapidFills}`;
                const blob = new Blob([content], { type: "text/plain" });
                const url = URL.createObjectURL(blob);
                const a = document.createElement("a");
                a.href = url;
                a.download = `eval_german_${vCode}.txt`;
                a.click();
            }

            document
                .getElementById("verb-search")
                .addEventListener("input", (e) => loadVerbs(e.target.value));
            window.onload = () => {
                loadVerbs();
                loadExercises();
            };
        </script>
    </body>
</html>
